@page "/organisation/{id}/supplier-information/connected-person/check-answer"
@using CO.CDP.OrganisationApp.Constants
@model CO.CDP.OrganisationApp.Pages.Supplier.ConnectedEntityCheckAnswersModel
@{
    var details = Model.ConnectedEntityDetails!;
    var ukNonUkRegisterAddress = details.RegisteredAddress!.IsNonUk ? "non-uk" : "uk";
    var ukNonUkPostalAddress = details.PostalAddress!.IsNonUk ? "non-uk" : "uk";
}
<a href="/organisation/@Model.Id/supplier-information/connected-person/company-register-name" class="govuk-back-link">Back</a>

<main class="govuk-main-wrapper">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <form class="form" method="post">
                <span class="govuk-caption-l">@Model.Caption</span>
                <h1 class="govuk-heading-l">@Model.Heading</h1>
                <dl class="govuk-summary-list">

                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Company name:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @details.OrganisationName
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/organisation-name">
                                Change<span class="govuk-visually-hidden">
                                    the organisation name
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Registered address:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            <p class="govuk-body">@details.RegisteredAddress!.AddressLine1</p>
                            <p class="govuk-body">@details.RegisteredAddress.TownOrCity</p>
                            <p class="govuk-body">@details.RegisteredAddress.Postcode</p>
                            <p class="govuk-body">@details.RegisteredAddress.Country</p>
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/registered-address/@ukNonUkRegisterAddress">
                                Change<span class="govuk-visually-hidden">
                                    the organisation's address
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Postal address:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            <p class="govuk-body">@details.PostalAddress!.AddressLine1</p>
                            <p class="govuk-body">@details.PostalAddress.TownOrCity</p>
                            <p class="govuk-body">@details.PostalAddress.Postcode</p>
                            <p class="govuk-body">@details.PostalAddress.Country</p>
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/postal-address/@ukNonUkPostalAddress/@Model.ConnectedEntityId">
                                Change<span class="govuk-visually-hidden">
                                    the organisation's address
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Legal form and law:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @details.LegalForm <br>
                            @details.LawRegistered
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/law-register/@Model.ConnectedEntityId">
                                Change<span class="govuk-visually-hidden">
                                    the Legal form
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Conditions of control:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @Html.Raw(string.Join("", details.ControlConditions.Select(x => $"<li>{x.Description()}</li>")))
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/nature-of-control/@Model.ConnectedEntityId">
                                Change<span class="govuk-visually-hidden">
                                    the nature of control
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Registered date:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @details.RegistrationDate!.Value.ToString("dd/MM/yyyy")
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/date-registered/@Model.ConnectedEntityId">
                                Change<span class="govuk-visually-hidden">
                                    the registered date
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            Register name:
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @details.RegisterName
                        </dd>
                        <dd class="govuk-summary-list__actions">
                            <a class="govuk-link" href="/organisation/@Model.Id/supplier-information/connected-person/company-register-name/@Model.ConnectedEntityId">
                                Change<span class="govuk-visually-hidden">
                                    the registered name
                                </span>
                            </a>
                        </dd>
                    </div>
                </dl>

                <button class="govuk-button" type="submit">Submit</button>
            </form>
        </div>
    </div>
</main>