@model CO.CDP.OrganisationApp.Models.FormQuestionViewModel

@{
    var question = Model.FormQuestion;
    var answer = Model.Answer;
    var modelErrorCollection = ViewData?.ModelState?["Answer"]?.Errors;
    var hasError = modelErrorCollection?.Count > 0;
}

<div class="govuk-form-group @(hasError ? "govuk-form-group--error" : "")">
    <h1 class="govuk-heading-l">
        @question.Title
    </h1>
    <p class="govuk-body">@question.Description</p>
    @if (modelErrorCollection?.Count > 0)
    {
        <p id="Answer-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>

            @foreach (var error in modelErrorCollection)
            {
                <span>@error.ErrorMessage</span>
            }
        </p>
    }
    <input class="govuk-file-upload" id="@question.Id" name="UploadedFile" type="file">
    @if (!string.IsNullOrEmpty(@answer))
    {
        <p class="govuk-body">@answer</p>
    }

</div>